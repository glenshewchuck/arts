<?php

use Drupal\Core\Url;
use Symfony\Component\HttpFoundation\RedirectResponse;
use Drupal\user\Entity\User;

/**
 * Implements hook_user_login().
 */
function glen_user_login(User $user) {
}

/**
 * Cancel button redirect to front page
 */
function glen_button_cancel($form, \Drupal\Core\Form\FormStateInterface &$form_state) {
  $form_state->setRedirect('<front>');
}

/**
 * Implements hook_form_alter().
 *
 * Add cancel button on new node form
 */
function glen_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
    switch ($form_id) {
    case 'node_article_form':
      $form['#title'] = t('New Post');
      $form['actions']['cancel'] = array(
        '#type' => 'submit',
        '#submit' => array('glen_button_cancel'),
        '#value' => t('Cancel'),
	'#limit_validation_errors' => array(),
        '#weight' => 999,
        '#button_type' => 'cancel',
      );
      break;
    case 'node_article_edit_form':
      break;
    }

}

//    \Drupal::messenger()->addMessage('test is: ' . print_r($form));

